{"ast":null,"code":"import _toConsumableArray from \"V:\\\\BigApp\\\\big_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"V:\\\\BigApp\\\\big_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"V:\\\\BigApp\\\\big_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"V:\\\\BigApp\\\\big_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"V:\\\\BigApp\\\\big_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"V:\\\\BigApp\\\\big_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"V:\\\\BigApp\\\\big_app\\\\src\\\\containers\\\\overview\\\\Overview.js\";\nimport React, { Component } from 'react';\nimport css from './Overview.module.css';\nimport axios from 'axios';\nimport Header from '../../components/overviewHeader/overviewHeader';\nimport Table from '../../components/overviewTable/overviewTable';\nimport Pagination from '../../components/pagination/pagination';\n\nvar OverView =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(OverView, _Component);\n\n  function OverView() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, OverView);\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(OverView)).call.apply(_getPrototypeOf2, [this].concat(_args)));\n    _this.state = {\n      headings: [{\n        id: 1,\n        name: ''\n      }, {\n        id: 2,\n        name: 'NAME'\n      }, {\n        id: 3,\n        name: 'COMPANY'\n      }, {\n        id: 4,\n        name: 'LOCATION'\n      }, {\n        id: 5,\n        name: 'DATE'\n      }, {\n        id: 6,\n        name: 'BIO'\n      }, {\n        id: 7,\n        name: 'REPOS'\n      }, {\n        id: 8,\n        name: 'FOLLOWERS'\n      }],\n      rows: [],\n      currentPageTable: [],\n      pageSize: 10,\n      searchQuery: ''\n    };\n\n    _this.componentDidMount = function () {\n      _this.fetchAllUsers();\n    };\n\n    _this.fetchAllUsers = function () {\n      var UserLogins = [];\n      axios.get('https://api.github.com/users').then(function (response) {\n        // console.log(response.data);\n        response.data.map(function (user) {\n          var Obj = {};\n          console.log('123' + Obj);\n          Obj.id = user.id;\n          Obj.login = user.login;\n          UserLogins.push(Obj);\n        });\n\n        _this.fetchTableData(UserLogins); // console.log(UserLogins);\n\n      }).catch(function (err) {});\n    };\n\n    _this.fetchTableData = function (UserLogins) {\n      var Promises = [];\n      var TableData = [];\n      UserLogins.map(function (user) {\n        var url = 'https://api.github.com/users/' + user.login;\n        Promises.push(axios.get(url));\n      });\n      axios.all(Promises).then(axios.spread(function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        args.map(function (arg) {\n          // console.log('spread'+arg.data.id);\n          var data = arg.data;\n          var Obj = {};\n          Obj.id = data.id;\n          Obj.name = data.name ? data.name : 'NA';\n          Obj.company = data.company ? data.company : 'NA';\n          Obj.location = data.location ? data.location : 'NA';\n          Obj.date = data.created_at ? data.created_at.toString().slice(0, data.created_at.indexOf('T')) : 'NA';\n          Obj.bio = data.bio ? data.bio : 'NA';\n          Obj.repos = data.public_repos;\n          Obj.followers = data.followers;\n          TableData.push(Obj);\n        });\n        console.log('Table Data', TableData);\n\n        _this.setState(function (prevState) {\n          return {\n            rows: TableData\n          };\n        });\n      }));\n    };\n\n    _this.pageChangeHandler = function (currentPageTable) {\n      console.log('Overview pageChangeHandler', _this.state.currentPageTable);\n\n      _this.setState({\n        currentPageTable: currentPageTable\n      });\n    };\n\n    _this.searchHandler = function (e) {\n      // console.log('changed',e.target.value);\n      _this.setState({\n        searchQuery: e.target.value\n      });\n\n      var searchResult = _toConsumableArray(_this.state.rows);\n\n      console.log('before', searchResult);\n      console.log('type of table', typeof searchResult[0].name, searchResult[0].name.toLowerCase());\n      console.log('type of query', typeof _this.state.searchQuery, _this.state.searchQuery.toLowerCase());\n      searchResult = searchResult.filter(function (user) {\n        return user.name.toLowerCase() === _this.state.searchQuery.toLowerCase();\n      });\n      console.log(searchResult);\n    };\n\n    return _this;\n  }\n\n  _createClass(OverView, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: css.overview,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(Header, {\n        searchQuery: this.state.searchQuery,\n        changed: this.searchHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), this.state.currentPageTable.length > 0 ? React.createElement(Table, {\n        headings: this.state.headings,\n        rows: this.state.currentPageTable,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }) : '', React.createElement(Pagination, {\n        items: this.state.rows,\n        onChangePage: this.pageChangeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return OverView;\n}(Component);\n\nexport default OverView;","map":{"version":3,"sources":["V:\\BigApp\\big_app\\src\\containers\\overview\\Overview.js"],"names":["React","Component","css","axios","Header","Table","Pagination","OverView","state","headings","id","name","rows","currentPageTable","pageSize","searchQuery","componentDidMount","fetchAllUsers","UserLogins","get","then","response","data","map","user","Obj","console","log","login","push","fetchTableData","catch","err","Promises","TableData","url","all","spread","args","arg","company","location","date","created_at","toString","slice","indexOf","bio","repos","public_repos","followers","setState","prevState","pageChangeHandler","searchHandler","e","target","value","searchResult","toLowerCase","filter","overview","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport css from './Overview.module.css';\r\nimport axios from 'axios';\r\n\r\nimport Header from '../../components/overviewHeader/overviewHeader';\r\nimport Table from '../../components/overviewTable/overviewTable';\r\nimport Pagination from '../../components/pagination/pagination';\r\n\r\n\r\nclass OverView extends Component {\r\n    state = {\r\n        headings: [{ id: 1, name: '' },\r\n        { id: 2, name: 'NAME' },\r\n        { id: 3, name: 'COMPANY' },\r\n        { id: 4, name: 'LOCATION' },\r\n        { id: 5, name: 'DATE' },\r\n        { id: 6, name: 'BIO' },\r\n        { id: 7, name: 'REPOS' },\r\n        { id: 8, name: 'FOLLOWERS' }],\r\n        rows: [],\r\n        currentPageTable: [],\r\n        pageSize: 10,\r\n        searchQuery:''\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.fetchAllUsers();\r\n    }\r\n\r\n    fetchAllUsers = () => {\r\n        let UserLogins = [];\r\n        axios.get('https://api.github.com/users')\r\n            .then(response => {\r\n                // console.log(response.data);\r\n                response.data.map(user => {\r\n                    let Obj = {};\r\n                    console.log('123' + Obj);\r\n                    Obj.id = user.id;\r\n                    Obj.login = user.login;\r\n                    UserLogins.push(Obj);\r\n                });\r\n                this.fetchTableData(UserLogins);\r\n                // console.log(UserLogins);\r\n            })\r\n            .catch(err => {\r\n\r\n            })\r\n    }\r\n\r\n    fetchTableData = (UserLogins) => {\r\n        let Promises = [];\r\n        let TableData = [];\r\n        UserLogins.map(user => {\r\n            let url = 'https://api.github.com/users/' + user.login;\r\n            Promises.push(axios.get(url));\r\n        });\r\n        axios.all(Promises)\r\n            .then(axios.spread((...args) => {\r\n                args.map(arg => {\r\n                    // console.log('spread'+arg.data.id);\r\n                    let data = arg.data\r\n                    let Obj = {};\r\n                    Obj.id = data.id;\r\n                    Obj.name = data.name? data.name: 'NA';\r\n                    Obj.company = data.company ? data.company : 'NA';\r\n                    Obj.location = data.location ? data.location : 'NA';\r\n                    Obj.date = data.created_at ? data.created_at.toString().slice(0, data.created_at.indexOf('T')) : 'NA';\r\n                    Obj.bio = data.bio ? data.bio : 'NA';\r\n                    Obj.repos = data.public_repos;\r\n                    Obj.followers = data.followers;\r\n                    TableData.push(Obj);\r\n                });\r\n                console.log('Table Data', TableData);\r\n                this.setState(prevState => ({\r\n                    rows: TableData\r\n                }));\r\n            }));\r\n    }\r\n\r\n    pageChangeHandler = (currentPageTable) => {\r\n        console.log('Overview pageChangeHandler', this.state.currentPageTable);\r\n        this.setState({ currentPageTable: currentPageTable });\r\n    }\r\n\r\n    searchHandler = (e) =>{\r\n        // console.log('changed',e.target.value);\r\n        this.setState({searchQuery:e.target.value});\r\n        let searchResult = [...this.state.rows];\r\n        console.log('before',searchResult);\r\n        console.log('type of table',typeof searchResult[0].name,searchResult[0].name.toLowerCase());\r\n        console.log('type of query',typeof this.state.searchQuery,this.state.searchQuery.toLowerCase());\r\n        searchResult = searchResult.filter((user)=> user.name.toLowerCase() === this.state.searchQuery.toLowerCase());\r\n        console.log(searchResult);\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={css.overview}>\r\n                <Header searchQuery={this.state.searchQuery} changed={this.searchHandler}/>\r\n                {this.state.currentPageTable.length > 0 ?\r\n                    <Table headings={this.state.headings} rows={this.state.currentPageTable} /> : ''\r\n                }\r\n                {/* <div className={css.footer}>\r\n                    <span className={css.desc}>Rows per page:</span>\r\n                    <span className={css.desc}>10</span>\r\n                    <span className={css.desc}>1-10 of 100</span>\r\n                </div> */}\r\n                <Pagination items={this.state.rows} onChangePage={this.pageChangeHandler}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default OverView;"]},"metadata":{},"sourceType":"module"}